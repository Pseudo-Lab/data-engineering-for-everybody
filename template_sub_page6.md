# 2.1 데이터 엔지니어가 다루는 데이터

# 데이터 원천(source)의 종류

---

## 파일

- 기업 외에도 일반적으로 가장 흔히 접하는 데이터의 종류입니다.
- Excel, csv, txt, json, xml 등 다양한 포맷이 존재합니다.

## API

- API(Application Programming Interface)를 통해 data ingestion 과정을 단순화할 수 있습니다.
- 최근에는 클라우드 컴퓨팅 플랫폼이 발전하면서 구글의 Big Query API, 아마존의 Redshift API, Snowflake SQL API 등 클라우드 기반의 데이터 웨어하우스에 접근하기 위한 API 사용법이 요구되고 있습니다.

## Application Database (OLTP Systems)

- 사용 중인 서비스 또는 애플리케이션의 상태를 저장한 데이터를 보유하고 있습니다.
- 대부분의 경우 application DB은 **OLTP(online transaction processing)** DB(뒤에서 더 자세히 설명!)에 해당합니다.
- OLTP DB는 데이터 추가/변경 속도가 빨라야 하며 대용량의 데이터를 동시에 처리하기 때문에 일정 규모 이상의 데이터 분석에는 적합하지 않습니다.
- **OLAP(Online analytical processing)** 시스템이 등장한 이유는 지속적으로 업데이트 되는 데이터를 반영하되(’online’), OLTP보다 데이터 분석을 쉽게 지원하기 위해서입니다.

## Log

- 특정 시스템 내에서 발생하는 이벤트에 대한 기록을 담고 있습니다.
- 로그는 이벤트에 대해서 누가(Who), 무엇을(What event), 언제(When) 실행했는지 세 가지 정보를 담고 있어야 합니다.

# 그  외 데이터 엔지니어가 고려해야 할 것들

---

## 복습: Data Engineering Lifecycle

![fode_0201.png](2%201%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%80%E1%85%A1%20%E1%84%83%E1%85%A1%E1%84%85%E1%85%AE%E1%84%82%E1%85%B3%E1%86%AB%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%2017a164cfded24edf8d4fb53643d3a668/fode_0201.png)

- 데이터 엔지니어링 수명주기에서 밑부분을 차지하는 영역(Undercurrents)은 사실 데이터 엔지니어가 간과하기 쉽습니다. 데이터 엔지니어가 관리하고 기여할 부분이 그닥 많지 않아 보이지만, 사실 데이터 엔지니어링을 보다 원만하게 진행하려면 원천 데이터가 탄생하고 관리되는 과정에 대해서도 잘 알고 있어야 합니다.
- 데이터가 원천 시스템에서 출발하여 데이터 엔지니어에게 도착하기까지의 과정을 일컬어 upstream이라고 합니다.

## 보안(Security)

- 데이터 원천 시스템의 데이터는 안전하고 암호화되어 있는가(저장/전송 시 둘다)?
- 원천 시스템의 접속 방식이 안전한가?(예: 보안되지 않은 공공 네트워크 X < VPN O)

## Data Management

- Data governance: 원천 데이터를 누가 관리하는가? 신뢰할 만한 주체(시스템)에 의해, 이해하기 쉬운 방식으로 관리되고 있는가?
- Data quality/integrity: 데이터의 품질과 무결성을 upstream 시스템이 보장하고 있는가?
- Schema: upstream DB 스키마가 고정되지 않고 변할 수 있음을 예상할 것. 데이터 원천 시스템을 관리하는 팀과 협력할 것
- Master data management: upstream에서 마스터 데이터(=비즈니스 주체, 즉 서비스 사용자나 공급업체, 회사 직원, 제품 등에 대한 데이터) 관리 원칙에 따라 데이터가 기록되고 있는가?
- Privacy and Ethics: 데이터의 접근성, 데이터 보존 기간 등

## DataOps

- Automation(자동화): 데이터 원천 시스템 자동화 과정 중 일부에 문제가 생겼을 경우, 데이터 엔지니어의 워크플로우에 영향을 미친다면 이 둘을 서로 분리하는 방안을 고안해볼 것
- Observability(모니터링): 원천 시스템으로부터 오는 데이터에 품질 문제가 있지는 않은지 사전에 방지할 수 있는 시스템을 마련할 것
- Incident response(응급 상황에 대비): 원천 시스템의 전원 공급이 꺼졌을 때 데이터 엔지니어의 data pipeline을 어떻게 손상 없이 유지할 수 있는가? 다시 원천 시스템이 복구되었을 때 유실된 데이터를 어떻게 처리할 것인가?

## Data Architecture

Upstream data architecture은 제각기 다를 수 있으며 상황에 따라 각자 장단점이 있다. 

- Reliability: 원천 시스템이 예측 가능한 output을 만들어내는가? 시스템이 얼마나 자주 고장나는가? 충분히 신뢰성을 확보할 때까지 시스템을 복구하는 데 걸리는 평균 시간은?
- Durability: 하드웨어 고장이나 네트워크 끊김이 일어났을 때 원천 시스템이 데이터 손실을 어느 정도 처리할 수 있는가?
- Availability: 필요한 순간마다 데이터 원천 시스템에 접근할 수 있도록 시스템이 보장되어 있는가? 또는 쉽게 접근하지 못하게 하는 방해 요인이 무엇인가?
- People: SLA(Service Level Agreement, 서비스 수준 협약)에 따라 데이터 원천 시스템에 대한 기준(가동시간, 데이터 품질, 접근성 등)을 마련하여 원천 시스템을 관리하는 운영자에게 요구 사항을 전달하고 이해시킬 것